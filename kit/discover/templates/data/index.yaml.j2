# index.yaml.j2 - System model index and overview
# REFS: all section files (actors, architecture, boundaries, business, controls, data, glossary, integrations, operations, product, supply_chain, team, tooling, user-journeys)

# METADATA
metadata:
  generated_at: "{{ metadata.generated_at }}"
  last_commit: "{{ metadata.last_commit }}"
  model_version: "{{ metadata.model_version | default(value="5.0.0") }}"
  discovery_mode: "{{ metadata.discovery_mode }}"

# PROJECT
project:
  name: "{{ project.name }}"
  description: "{{ project.description }}"
  repository: "{{ project.repository }}"

# STATISTICS
stats:
  components: {{ stats.components | default(value=0) }}
  data_categories: {{ stats.data_categories | default(value=0) }}
  actors: {{ stats.actors | default(value=0) }}
  trust_zones: {{ stats.trust_zones | default(value=0) }}
  integrations: {{ stats.integrations | default(value=0) }}
  controls: {{ stats.controls | default(value=0) }}
  gaps: {{ stats.gaps | default(value=0) }}
  apis: {{ stats.apis | default(value=0) }}
  sbom_components: {{ stats.sbom_components | default(value=0) }}

# SECTIONS
sections:
{% for section in sections %}
  - file: "{{ section.file }}"
    status: "{{ section.status }}"
{% endfor %}

# COMPLIANCE_HINTS
compliance_hints:
  rgpd_applicable: {{ compliance_hints.rgpd_applicable | default(value=false) }}
  pii_detected: {{ compliance_hints.pii_detected | default(value=false) }}
  dpia_likely: {{ compliance_hints.dpia_likely | default(value=false) }}
  international_transfers: {{ compliance_hints.international_transfers | default(value=false) }}
  rgs_applicable: {{ compliance_hints.rgs_applicable | default(value=false) }}
  pci_applicable: {{ compliance_hints.pci_applicable | default(value=false) }}
